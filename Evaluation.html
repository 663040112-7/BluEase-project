<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- your existing head content -->
    <script src="https://kit.fontawesome.com/274a0dc0b6.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="EvaStyle.css">
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('formqsys').addEventListener('submit', function(event) {
                event.preventDefault(); // Prevents the default form submission
                calculateScore(); // Calls the function to calculate the score
            });
        });

        function calculateScore() {
            // Define your question IDs and their corresponding values
            const questionValues = {
                'es_id1': getValue('es_id1'),
                'es_id2': getValue('es_id2'),
                'es_id3': getValue('es_id3'),
                'es_id4': getValue('es_id4'),
                'es_id5': getValue('es_id5'),
                'es_id6': getValue('es_id6'),
                'es_id7': getValue('es_id7'),
                'es_id8': getValue('es_id8'),
                'es_id9': getValue('es_id9')
            };

            // Calculate the total score
            let totalScore = 0;
            for (const key in questionValues) {
                totalScore += parseInt(questionValues[key]);
            }

            // Display or use the total score as needed
            console.log('Total Score:', totalScore);

            // Optionally, you can submit the form programmatically here
            // document.getElementById('formqsys').submit();
        }

        function getValue(name) {
            const selectedOption = document.querySelector('input[name="' + name + '"]:checked');
            return selectedOption ? parseInt(selectedOption.value) : 0;
        }
    </script>
</head>
<body>
    <div class="container">
        <input type="checkbox" name="" id="check">
        <nav class="menu">
            <a class="main" href="Main.html">BluEase</a>
            <ul>
                <li><a class="choice choice1" href="Evaluation.html">แบบประเมิน</a></li>
                <li><a class="choice choice2" href="Knowledge.html">คลังความรู้</a></li>
                <li><a class="choice choice3" href="Hospital.html">สถานที่รักษา</a></li>
                <li><a class="choice choice4" href="Ot.disease.html">โรคที่เกี่ยวข้อง</a></li>
            </ul>
            <li>
                <div class="Search">
                    <input type="text" placeholder="Search...">
                    <a href="">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </a>
                </div>
            <li>
            <label for="check" class="checkbtn">
                <i class="fas fa-bars"></i>
            </label>
        </nav>
    </div>
    <div class="col-md-9"> <br />
        <h1> แบบประเมินโรคซึมเศร้า </h1>
        <h2> (เกณฑ์ให้คะแนน : ไม่เลย = 0, มีบางวันหรือไม่บ่อย = 1, มีค่อนข้างบ่อย = 2, มีเกือบทุกวัน = 3)</h2>
        <h3 > ข้อมูลอ้างอิงมาจาก : 
            <a href="https://www.rama.mahidol.ac.th/th/depression_risk" target="_blank">
              แบบทดสอบภาวะซึมเศร้า PHQ-9 มหาวิทยาลัยมหิดล  
            </a>
        </h3>

        <form id="formqsys" name="formqsys" method="post" action="s_q_db.php">
            <table>
               
                <tr class="form form-choice1">
                    <td>&nbsp; 1.เบื่อ ทำอะไร ๆ ก็ไม่เพลิดเพลิน<input class = "slider slider1"  type="range" max="3" min="0" value="0"></td>
                </tr>
                <tr class="form form-choice2">
                    <td>&nbsp; 2.ไม่สบายใจ ซึมเศร้า หรือท้อแท้<input class = "slider slider2" type="range" max="3" min="0" value="0"></td>
                </tr>
                <tr class="form form-choice3">
                  <td>&nbsp; 3.หลับยาก หรือหลับ ๆ ตื่น ๆ หรือหลับมากไป<input class = "slider slider3" type="range" max="3" min="0" value="0"></td>
                </tr>
                <tr class="form form-choice4">
                  <td>&nbsp; 4.เหนื่อยง่าย หรือไม่ค่อยมีแรง<input class = "slider slider4" type="range" max="3" min="0" value="0"></td>
                </tr>
                <tr class="form form-choice5">
                  <td>&nbsp; 5.เบื่ออาหาร หรือกินมากเกินไป<input class = "slider slider5" type="range" max="3" min="0" value="0"></td>
                </tr>
                <tr class="form form-choice6">
                  <td>&nbsp; 6.รู้สึกไม่ดีกับตัวเอง คิดว่าตัวเองล้มเหลว หรือเป็นคนทำให้ตัวเอง หรือครอบครัวผิดหวัง<input class = "slider slider6" type="range" max="3" min="0" value="0"></td>
                </tr>
                <tr class="form form-choice7">
                  <td>&nbsp; 7.สมาธิไม่ดีเวลาทำอะไร เช่น ดูโทรทัศน์ ฟังวิทยุ หรือทำงานที่ต้องใช้ความตั้งใจ<input class = "slider slider7" type="range" max="3" min="0" value="0"></td>
                </tr>
                <tr class="form form-choice8">
                  <td>&nbsp; 8.พูดหรือทำอะไรช้าจนคนอื่นมองเห็น หรือกระสับกระส่ายจนท่านอยู่ไม่นิ่งเหมือนเคย<input class = "slider slider8" type="range" max="3" min="0" value="0"></td>
                </tr>
                <tr class="form form-choice9">
                  <td>&nbsp; 9.คิดทำร้ายตนเอง หรือคิดว่าถ้าตาย ๆ ไปเสียคงจะดี<input class = "slider slider9" type="range" max="3" min="0" value="0"></td>
                </tr></table>
               <form id="formqsys" name="formqsys" method="post" action="s_q_db.php">
                <input id="submitBtn"type="submit" value="ส่งแบบประเมิน">
               </form>
              </div>
</body>
</html>
